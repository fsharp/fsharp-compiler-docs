<!DOCTYPE html>
<html lang="en" data-root="https://fsharp.github.io/fsharp-compiler-docs/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="F# Software Foundation; Microsoft; F# Contributors" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="F# Compiler Guide">
    <meta property="og:title" content="Guidance" />
    <meta property="og:url" content="https://fsharp.github.io/fsharp-compiler-docs/fsharp-core-notes.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://fsharp.github.io/fsharp-compiler-docs/">
    <meta name="twitter:title" content="Guidance">
    
    <title>Guidance | F# Compiler Guide</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fsharp.github.io/fsharp-compiler-docs/img/favicon.ico" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-theme-set-dark.js"></script>
    <script type="application/javascript" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-details-set-expanded.js"></script>
    <link href="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="license-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/dotnet/fsharp/blob/main/License.txt">License</a>
                </li>
                <li class="release-notes-menu-item builtin-menu-item nav-item"><a class="nav-link"
                                        href="https://github.com/dotnet/fsharp/blob/main/release-notes.md">Release
                    Notes</a></li>
                <li class="repository-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/dotnet/fsharp/">Source
                    Repository</a></li>
                <li class="nav-header ">
  Compiler Internals
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/reusing-typechecking-results.html">
    Reusing typechecking results
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/overview.html">
    Overview
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/coding-standards.html">
    Coding standards
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/diagnostics.html">
    Diagnostics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/representations.html">
    Representations
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/debug-emit.html">
    Debug emit
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/names.html">
    Display names, logical names and compiled names
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fsi-emit.html">
    F# Interactive Emit
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/optimizations.html">
    Optimizations
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/large-inputs-and-stack-overflows.html">
    Large inputs
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/memory-usage.html">
    Memory usage
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/compiler-startup-performance.html">
    Startup Performance
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/changing-the-ast.html">
    Changing the AST
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/running-documentation-locally.html">
    Running the documentation locally
  </a>
</li>             
<li class="nav-header ">
  Language Service Internals
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/tooling-features.html">
    Overview
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/project-builds.html">
    Project builds
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/caches.html">
    FSharpChecker caches
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/react.html">
    Incrementality
  </a>
</li>             
<li class="nav-header ">
  FSharp.Compiler.Service
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/tokenizer.html">
    Tutorial: Tokenizing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/untypedtree.html">
    Tutorial: Expressions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/untypedtree-apis.html">
    Tutorial: AST APIs
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/symbols.html">
    Tutorial: Symbols
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/editor.html">
    Tutorial: Editor services
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/typedtree.html">
    Tutorial: Expressions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/project.html">
    Tutorial: Project analysis
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/interactive.html">
    Tutorial: Hosted execution
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/compiler.html">
    Tutorial: Hosting the compiler
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/corelib.html">
    Notes on FSharp.Core
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/filesystem.html">
    IFileSystem
  </a>
</li>             
<li class="nav-header active">
  FSharp.Core
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fsharp-core-notes.html">
    Guidance
  </a>
</li>             
<li class="nav-header ">
  Release Notes
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/About.html">
    About
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/Language.html">
    F# Language
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/FSharp.Core.html">
    FSharp.Core
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/FSharp.Compiler.Service.html">
    FSharp.Compiler.Service
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/perf-discussions-archive.html">
    Comparisons

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/optimizations-equality.html">
    Compiling Equality

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/regression-testing-pipeline.html">
    F# Compiler Regression Testing

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/lsp.html">
    F# LSP

  </a>
</li>
                <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/reference/index.html">
    All Namespaces
  </a>
</li>
            </ul>
        </div>
        <a href="https://fsharp.github.io/fsharp-compiler-docs/">
            <img alt="Header menu logo" src="https://fsharp.github.io/fsharp-compiler-docs/img/logo.png">
            <strong>F# Compiler Guide</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/dotnet/fsharp/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="license-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/dotnet/fsharp/blob/main/License.txt">License</a>
        </li>
        <li class="release-notes-menu-item builtin-menu-item nav-item"><a class="nav-link"
                                href="https://github.com/dotnet/fsharp/blob/main/release-notes.md">Release
            Notes</a></li>
        <li class="repository-menu-item builtin-menu-item nav-item"><a class="nav-link" href="https://github.com/dotnet/fsharp/">Source
            Repository</a></li>
        <li class="nav-header ">
  Compiler Internals
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/reusing-typechecking-results.html">
    Reusing typechecking results
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/overview.html">
    Overview
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/coding-standards.html">
    Coding standards
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/diagnostics.html">
    Diagnostics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/representations.html">
    Representations
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/debug-emit.html">
    Debug emit
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/names.html">
    Display names, logical names and compiled names
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fsi-emit.html">
    F# Interactive Emit
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/optimizations.html">
    Optimizations
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/large-inputs-and-stack-overflows.html">
    Large inputs
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/memory-usage.html">
    Memory usage
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/compiler-startup-performance.html">
    Startup Performance
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/changing-the-ast.html">
    Changing the AST
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/running-documentation-locally.html">
    Running the documentation locally
  </a>
</li>             
<li class="nav-header ">
  Language Service Internals
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/tooling-features.html">
    Overview
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/project-builds.html">
    Project builds
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/caches.html">
    FSharpChecker caches
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/react.html">
    Incrementality
  </a>
</li>             
<li class="nav-header ">
  FSharp.Compiler.Service
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/tokenizer.html">
    Tutorial: Tokenizing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/untypedtree.html">
    Tutorial: Expressions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/untypedtree-apis.html">
    Tutorial: AST APIs
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/symbols.html">
    Tutorial: Symbols
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/editor.html">
    Tutorial: Editor services
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/typedtree.html">
    Tutorial: Expressions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/project.html">
    Tutorial: Project analysis
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/interactive.html">
    Tutorial: Hosted execution
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/compiler.html">
    Tutorial: Hosting the compiler
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/corelib.html">
    Notes on FSharp.Core
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fcs/filesystem.html">
    IFileSystem
  </a>
</li>             
<li class="nav-header active">
  FSharp.Core
</li>             
<li class="nav-item active">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/fsharp-core-notes.html">
    Guidance
  </a>
</li>             
<li class="nav-header ">
  Release Notes
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/About.html">
    About
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/Language.html">
    F# Language
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/FSharp.Core.html">
    FSharp.Core
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/release-notes/FSharp.Compiler.Service.html">
    FSharp.Compiler.Service
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/perf-discussions-archive.html">
    Comparisons

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/optimizations-equality.html">
    Compiling Equality

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/regression-testing-pipeline.html">
    F# Compiler Regression Testing

  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/lsp.html">
    F# LSP

  </a>
</li>
        <li class="nav-header">
  API Reference
</li>             
<li class="nav-item">
  <a class="nav-link" href="https://fsharp.github.io/fsharp-compiler-docs/reference/index.html">
    All Namespaces
  </a>
</li>
    </ul>
</aside>
<main>
    <div id="content">
        
<h1><a name="Notes-and-Guidance-on-FSharp-Core" class="anchor" href="#Notes-and-Guidance-on-FSharp-Core">Notes and Guidance on FSharp.Core</a></h1>
<p>This technical guide discusses the FSharp.Core library.</p>
<p>Reference documentation for FSharp.Core can be found here: <a href="https://fsharp.github.io/fsharp-core-docs/">https://fsharp.github.io/fsharp-core-docs/</a></p>
<p>Much of the guidance below applies to any .NET library respecting binary compatibility.</p>
<h2><a name="FSharp-Core-is-binary-compatible" class="anchor" href="#FSharp-Core-is-binary-compatible">FSharp.Core is binary compatible</a></h2>
<p>FSharp.Core is binary compatible across versions of the F# language. For example, this means you can create a newer project with a newer FSharp.Core in an older codebase and things should generally "just work".</p>
<p><strong>Binary compatibility means that a component built for X can bind to Y at runtime. It doesn't mean that Y behaves 100% the same as X, though.</strong> For example, an older compiler that doesn't know how to understand <code>inref&lt;'T&gt;</code> referencing a newer FSharp.Core that has <code>inref&lt;'T&gt;</code> defined may not behave correctly if <code>inref&lt;'T&gt;</code> is used in source.</p>
<h2><a name="FSharp-Core-and-F-scripts" class="anchor" href="#FSharp-Core-and-F-scripts">FSharp.Core and F# scripts</a></h2>
<p>F# scripts, executed by F# interactive, execute against the FSharp.Core deployed with the .NET SDK you are using. If you're expecting to use a more modern library feature and find that it's missing, it's likely because you have an older .NET SDK and thus an older F# Interactive. Upgrade your .NET SDK.</p>
<h2><a name="Guidance-for-package-authors" class="anchor" href="#Guidance-for-package-authors">Guidance for package authors</a></h2>
<p>If you are authoring a NuGet package for consumption in the F# and .NET ecosystem, you already have to make a decision about functionality vs. reach by deciding what target framework(s) you support.</p>
<p>As an F# package author, you also need to make this decision with respect to FSharp.Core:</p>
<ul>
<li>Targeting an earlier version of FSharp.Core increases your reach because older codebases can use it without issue</li>
<li>Targeting a newer version of FSharp.Core lets you use and extend newer features</li>
</ul>
<p>This decision is critical, because it can have a network effect. If you choose a higher FSharp.Core version, then that also becomes a dependency for any other package that may depend on your package.</p>
<h3><a name="Package-authors-should-pin-their-FSharp-Core-reference" class="anchor" href="#Package-authors-should-pin-their-FSharp-Core-reference">Package authors should pin their FSharp.Core reference</a></h3>
<p>The default templates for F# projects carry an implicit reference to FSharp.Core. This is ideal for application developers, since applications almost always want to be referencing the highest FSharp.Core available to them. As you upgrade your .NET SDK, the FSharp.Core package referenced implicitly will also be upgraded over time, since FSharp.Core is also distributed with the .NET SDK.</p>
<p>However, as a package author this means that unless you reference FSharp.Core explicitly, you will default to the latest possible version and thus eliminate any hope of reaching older projects in older environments.</p>
<h3><a name="How-to-explicitly-reference-FSharp-Core" class="anchor" href="#How-to-explicitly-reference-FSharp-Core">How to explicitly reference FSharp.Core</a></h3>
<p>It's a simple gesture in your project file that pins to FSharp.Core 4.7.2:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="k">&lt;</span><span class="i">ItemGroup</span><span class="k">&gt;</span>
  <span class="k">&lt;</span><span class="i">PackageReference</span> <span class="o">Update</span><span class="k">="FSharp.Core"</span> <span class="o">Version</span><span class="k">="4.7.2"</span> <span class="k">/&gt;</span>
<span class="k">&lt;/</span><span class="i">ItemGroup</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<p>Or if you're using Paket:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">nuget</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">Core</span> <span class="pn">&gt;</span><span class="o">=</span> <span class="n">4.7</span><span class="pn">.</span><span class="n">2</span>
</code></pre>
<p>And that's it!</p>
<h3><a name="Compatibility-table" class="anchor" href="#Compatibility-table">Compatibility table</a></h3>
<p>The following table can help you decide the minimum language/package version you want to support:</p>
<table>
<thead>
<tr class="header">
<th><p>Minimum F# language version</p></th>
<th><p>Minimum FSharp.Core package version</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>F# 4.1</p></td>
<td><p>4.3.4</p></td>
</tr>
<tr class="even">
<td><p>F# 4.5</p></td>
<td><p>4.5.2</p></td>
</tr>
<tr class="odd">
<td><p>F# 4.6</p></td>
<td><p>4.6.2</p></td>
</tr>
<tr class="even">
<td><p>F# 4.7</p></td>
<td><p>4.7.2</p></td>
</tr>
<tr class="odd">
<td><p>F# 5.0</p></td>
<td><p>5.0.0</p></td>
</tr>
<tr class="even">
<td><p>F# 6.0</p></td>
<td><p>6.0.0</p></td>
</tr>
</tbody>
</table>

<p>If you want to be compatible with much older projects using an F# 4.0 compiler or earlier, you can still do that but it's not recommended. People using those codebases should upgrade instead.</p>
<h3><a name="Do-not-bundle-FSharp-Core-directly-with-a-library" class="anchor" href="#Do-not-bundle-FSharp-Core-directly-with-a-library">Do <em>not</em> bundle FSharp.Core directly with a library</a></h3>
<p>Do <em>not</em> include a copy of FSharp.Core with your library or package, such in the <code>lib</code> folder of a package. If you do this, you will create havoc for users of your library.</p>
<p>The decision about which <code>FSharp.Core</code> a library binds to is up to the application hosting of the library.</p>
<h2><a name="Guidance-for-everyone-else" class="anchor" href="#Guidance-for-everyone-else">Guidance for everyone else</a></h2>
<p>If you're not authoring packages for distribution, you have a lot less to worry about.</p>
<p>If you are distributing library code across a private organization as if it were a NuGet package, please see the above guidance, as it likely still applies. Otherwise, the below guidance applies.</p>
<h3><a name="Application-authors-don-t-have-to-explicitly-reference-FSharp-Core" class="anchor" href="#Application-authors-don-t-have-to-explicitly-reference-FSharp-Core">Application authors don't have to explicitly reference FSharp.Core</a></h3>
<p>In general, applications can always just use the latest FSharp.Core bundled in the SDK they are built with.</p>
<h3><a name="C-projects-referencing-F-projects-may-need-to-pin-FSharp-Core" class="anchor" href="#C-projects-referencing-F-projects-may-need-to-pin-FSharp-Core">C# projects referencing F# projects may need to pin FSharp.Core</a></h3>
<p>You can reference an F# project just fine without needing to be explicit about an FSharp.Core reference when using C# projects based on the .NET SDK. References flow transitively for SDK-style projects, so even if you need to use types directly from FSharp.Core (which you probably shouldn't do anyways) it will pick up the right types from the right assembly.</p>
<p>If you do have an explicit FSharp.Core reference in your C# project that you <strong>need</strong>, you should pin your FSharp.Core reference across your entire codebase. Being in a mixed pinned/non-pinned world is difficult to keep straight over a long period of time.</p>
<h2><a name="Guidance-for-older-projects-compilers-and-tools" class="anchor" href="#Guidance-for-older-projects-compilers-and-tools">Guidance for older projects, compilers, and tools</a></h2>
<p>Modern .NET development, including F#, uses SDK-style projects. You can read about that here: <a href="https://learn.microsoft.com/dotnet/core/project-sdk/overview">https://learn.microsoft.com/dotnet/core/project-sdk/overview</a></p>
<p>If you are not using SDK-style projects F# projects and/or have an older toolset, the following guidance applies.</p>
<h3><a name="Consider-upgrading" class="anchor" href="#Consider-upgrading">Consider upgrading</a></h3>
<p>Yes, really. The old project system that manages legacy projects is not that good, the compiler is older and unoptimized for supporting larger codebases, tooling is not as responsive, etc. You will really have a much better life if you upgrade. Try out the <code>try-convert</code> tool to do that: <a href="https://github.com/dotnet/try-convert">https://github.com/dotnet/try-convert</a></p>
<p>If you cannot upgrade for some reason, the rest of the guidance applies.</p>
<h3><a name="Always-deploy-FSharp-Core-as-part-of-a-compiled-application" class="anchor" href="#Always-deploy-FSharp-Core-as-part-of-a-compiled-application">Always deploy FSharp.Core as part of a compiled application</a></h3>
<p>For applications, FSharp.Core is normally part of the application itself (so-called "xcopy deploy" of FSharp.Core).</p>
<p>For older project files, you may need to use <code>&lt;Private&gt;true&lt;/Private&gt;</code> in your project file. In  Visual Studio this is equivalent to setting the <code>CopyLocal</code> property to <code>true</code> properties for the <code>FSharp.Core</code> reference.</p>
<p>FSharp.Core.dll will normally appear in the <code>bin</code> output folder for your application. For example:</p>
<pre class="fssnip highlighted"><code lang="fsharp">    <span class="id">Directory</span> <span class="k">of</span> <span class="o">..</span><span class="pn">.</span>
    
    <span class="n">18</span><span class="o">/</span><span class="n">04</span><span class="o">/</span><span class="n">2020</span>  <span class="n">13</span><span class="pn">:</span><span class="n">20</span>             <span class="n">5</span><span class="pn">,</span><span class="n">632</span> <span class="id">ConsoleApplication3</span><span class="pn">.</span><span class="id">exe</span>
    <span class="n">14</span><span class="o">/</span><span class="n">10</span><span class="o">/</span><span class="n">2020</span>  <span class="n">12</span><span class="pn">:</span><span class="n">12</span>         <span class="n">1</span><span class="pn">,</span><span class="n">400</span><span class="pn">,</span><span class="n">472</span> <span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">Core</span><span class="pn">.</span><span class="id">dll</span>
</code></pre>
<h3><a name="FSharp-Core-and-static-linking" class="anchor" href="#FSharp-Core-and-static-linking">FSharp.Core and static linking</a></h3>
<p>The ILMerge tool and the F# compiler both allow static linking of assemblies including static linking of FSharp.Core.
This can be useful to build a single standalone file for a tool.</p>
<p>However, these options must be used with caution.</p>
<ul>
<li>Only use this option for applications, not libraries. If it's not a .EXE (or a library that is effectively an application) then don't even try using this option.</li>
</ul>
<p>Searching on stackoverflow reveals further guidance on this topic.</p>
<h2><a name="Reference-FSharp-Core-version-and-NuGet-package-numbers" class="anchor" href="#Reference-FSharp-Core-version-and-NuGet-package-numbers">Reference: FSharp.Core version and NuGet package numbers</a></h2>
<p>See <a href="https://github.com/fsharp/fslang-design/blob/master/tooling/FST-1004-versioning-plan.md">the F# version information RFC</a>.</p>

        <div class="fsdocs-tip" id="fs1">Multiple items<br />namespace Microsoft.FSharp<br /><br />--------------------<br />namespace FSharp</div>
<div class="fsdocs-tip" id="fs2">namespace Microsoft.FSharp.Core</div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-1">
    <a href="#Notes-and-Guidance-on-FSharp-Core">
      Notes and Guidance on FSharp.Core
    </a>
  </li>
  <li class="level-2">
    <a href="#FSharp-Core-is-binary-compatible">
      FSharp.Core is binary compatible
    </a>
  </li>
  <li class="level-2">
    <a href="#FSharp-Core-and-F-scripts">
      FSharp.Core and F# scripts
    </a>
  </li>
  <li class="level-2">
    <a href="#Guidance-for-package-authors">
      Guidance for package authors
    </a>
  </li>
  <li class="level-3">
    <a href="#Package-authors-should-pin-their-FSharp-Core-reference">
      Package authors should pin their FSharp.Core reference
    </a>
  </li>
  <li class="level-3">
    <a href="#How-to-explicitly-reference-FSharp-Core">
      How to explicitly reference FSharp.Core
    </a>
  </li>
  <li class="level-3">
    <a href="#Compatibility-table">
      Compatibility table
    </a>
  </li>
  <li class="level-2">
    <a href="#Guidance-for-everyone-else">
      Guidance for everyone else
    </a>
  </li>
  <li class="level-3">
    <a href="#Application-authors-don-t-have-to-explicitly-reference-FSharp-Core">
      Application authors don't have to explicitly reference FSharp.Core
    </a>
  </li>
  <li class="level-3">
    <a href="#C-projects-referencing-F-projects-may-need-to-pin-FSharp-Core">
      C# projects referencing F# projects may need to pin FSharp.Core
    </a>
  </li>
  <li class="level-2">
    <a href="#Guidance-for-older-projects-compilers-and-tools">
      Guidance for older projects, compilers, and tools
    </a>
  </li>
  <li class="level-3">
    <a href="#Consider-upgrading">
      Consider upgrading
    </a>
  </li>
  <li class="level-3">
    <a href="#Always-deploy-FSharp-Core-as-part-of-a-compiled-application">
      Always deploy FSharp.Core as part of a compiled application
    </a>
  </li>
  <li class="level-3">
    <a href="#FSharp-Core-and-static-linking">
      FSharp.Core and static linking
    </a>
  </li>
  <li class="level-2">
    <a href="#Reference-FSharp-Core-version-and-NuGet-package-numbers">
      Reference: FSharp.Core version and NuGet package numbers
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-tips.js"></script>
<script type="module" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-details-toggle.js"></script>
<script type="module" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-theme.js"></script>
<script type="module" src="https://fsharp.github.io/fsharp-compiler-docs/content/fsdocs-search.js"></script>

</body>
</html>